_user = {
	toWin = 20, -- points to win the game
	addAfter = 10, -- add map back to maplist after N rounds
}


-- main code dont touch
local a,pcall,b,eventNewPlayer,helperDisplay,c,d,e,f,g,h,i,j,print,k,l,m,n,tonumber,tostring,teamDisplay,resetGame,replayGame,formatMap,newMap,scoreDisplay,pauseDisplay,settingsDisplay,putToSmallestTeam,secondsToClock,setNameColors,error,createTeams,modesDisplay,loadRoom=system.disableChatCommandDisplay,pcall,string.match,eventNewPlayer,helperDisplay,math.ceil,math.floor,math.random,os.time,table.concat,table.index,table.remove,ui.addTextArea,print,string.title,table.find,ui.removeTextArea,ui.updateTextArea,tonumber,tostring,teamDisplay,resetGame,replayGame,formatMap,newMap,scoreDisplay,pauseDisplay,settingsDisplay,putToSmallestTeam,secondsToClock,setNameColors,error,createTeams,modesDisplay,loadRoom;tfm.exec.disableAutoScore()tfm.exec.disableAfkDeath()tfm.exec.disableDebugCommand()tfm.exec.disablePhysicalConsumables()tfm.exec.disableAutoShaman()tfm.exec.disableAutoNewGame()tfm.exec.disableAutoTimeLeft()a()local o;do local p,q=pcall(nil)o=b(q,"(.-)%.")end;local r={}r.admin={}r.mod={}local s={['wj']={},['burlas']={7741281,7686258,7686256,7686255,7686253,7686251,7686250,7686248,7686247,7686246,7686245,7686242,7686241,7686234,7686233,7686231,7686230,7686229,7682367,7682365,7682362,7682361,7682358,7682356,7682354,7682351,7680982,7680981,7680978,7679563,7679561,7679560,7679558,7679556,7679087,7679084,7679079,7679078,7679074,7679070,7678148,7677803,7677802,7677801,7677799,7677798,7677797,7677796,7677795,7677794,7677793,7677791,7677790,7677787,7677785,7677782,7676869,7676867,7676862,7676856,7676859,7675766,7675499,7675498,7675496,7675491,7675489,7664114,7664113,7664112,7664111,7664110,7664107,7664106,7664103,7664105,7664102,7661197,7661195,7661194,7661191,7661039,7661038,7661037,7661035,7661031,7661029,7661028,7661026,7661024,7661022,7661019,7661018,7661017,7661015,7661013,7661012,7661011,7661009,7661008,7661005,7660877,7660876,7660875,7660874,7660873,7660871,7660869,7660868,7660866,7660865,7660864,7660863,7660725,7660648,7660647,7660644,7660641,7660640,7660638,7660637,7660636,7660635,7660633,7660632,7660631,7660628,7660627,7660626,7660624,7660623,7660622,7660621,7660619,7660617,7660616,7660428,7660613,7660612,7660436,7660434,7660433,7660430,7660425,7660424,7660421,7660420,7660419,7660417,7660416,7660321,7660320,7660319,7660316,7660314,7660312,7660311,7660308,7660307,7660305,7660301,7660300,7660297,7660295,7660290,7660289,7660287,7660283,7660285,7660282,7660278,7660276,7660270,7660272,7660268,7660167,7660164,7660160,7660398,7660155,7660400,7660401,7660149,7660148,7660146,7660144,7660138,7660132,7659998,7659995,7659994,7659993,7659992,7659991,7659987,7659983,7659980,7659978,7659917,7659921,7659923,7659927,7659933,7659934,7659935,7659937,7659938,7659939,7659941,7659945,7659949,7659951,7659955,7659957,7659958,7659964,7659914,7659681,7659678,7659677,7659742,7659744,7659757,7659747,7659748,7659749,7659751,7659752,7659760,7659762,7659765,7659766,7659768,7659772,7659773,7659774,7659775,7630519,7630522,7630524,7630528,7630532,7630537,7630542,7630545,7630560,7630564,7630565,7630567,7630571,7630588,7630591,7630593,7630595,7630596,7630607,7630612,7630634,7630646,7630648,7630650,7630657,7630662,7630664,7630668,7630669,7630670,7630673,7630675,7630677,7635526,7635528,7635533,7635534,7635535,7635536,7635537,7635538,7635539,7635540,7635541,7635542,7635544,7635545,7635546,7635547,7635549,7635550,7635551,7635552,7635553,7635555,7635556,7635560,7664101,7635563,7635566,7635567,7635568,7635570},['vanilla']={'#87'},['bootcamp']={'#13','#3'},['defilante']={'#18'},['racing']={'#17'},['custom1']={},['custom2']={},['custom3']={},['custom4']={},['custom5']={},['custom6']={}}local t={mode,toWin=_user.toWin,winner,playerData={},mapQueue={},rainbowNames={},chosenMapList={},addAfter=_user.addAfter,mapsToAdd={},currentMap,pause={paused=false,time=0,reason=""},time=0,isFirst=false,gameRunning=false,teamColorToChange,settings={autoJoin=false,turboMode=false,noSouris=false,respawn=false},sessionTime=0,mice={total=0,alive=0},teamIndex=1}local u={[1]={players={},color="bf19a9",points=0},[2]={players={},color="F4EA0E",points=0},[3]={players={},color="FFE0AF",points=0},[4]={players={},color="AFFFFD",points=0},[5]={players={},color="CD3D09",points=0},[6]={players={},color="39D358",points=0},[7]={players={},color="F33A76",points=0},[8]={players={},color="2A51EC",points=0}}local v=[[<C><P /><Z><S><S P="0,0,0.3,0.2,0,0,0,0" X="397" L="3000" o="0" H="3000" c="4" Y="195" T="12" /><S P="0,0,0.3,0.2,0,0,0,0" L="800" o="0" X="400" H="29" Y="386" T="12" /><S P="0,0,0.3,0.2,-90,0,0,0" L="800" o="0" X="16" H="29" Y="-3" T="12" /><S P="0,0,0.3,0.2,-180,0,0,0" L="800" o="0" X="399" H="29" Y="0" T="12" /><S P="0,0,0.3,0.2,-270,0,0,0" L="800" o="0" X="786" H="29" Y="1" T="12" /></S><D><DS Y="362" X="70" /></D><O /></Z></C>]]local w={"EB0C0C","EB790C","EBE70C","0DEB0C","0CC2EB","214AED","B221ED"}l=function(x,y)for z,A in next,x do if A==y then return true end end;return false end;h=function(x,y)for z,A in next,x do if A==y then return z end end;return false end;k=function(B)return B:gsub("^%l",string.upper)end;formatMap=function(C)return C:gsub("@","")end;resetGame=function()t.teamIndex=1;t.gameRunning=false;t.winner=nil;t.chosenMapList={}t.mapQueue={}for D=1,t.mode do u[D].points=0;u[D].players={}end;t.sessionTime=0;t.playerData={}t.pause={paused=false,time=0,reason=""}t.settings={autoJoin=false,turboMode=false,noSouris=false,respawn=false}for z in next,tfm.get.room.playerList do eventNewPlayer(z)end;helperDisplay(false)j(-420,"<a href='event:2teams'><p align='center'><font size='16' color='#E6E6E6'>2 Teams</font></p></a>",o,340,240,100,0,0x000001,0x000001,0.55,true)j(-421,"<a href='event:4teams'><p align='center'><font size='16' color='#E6E6E6'>4 Teams</font></p></a>",o,340,200,100,0,0x000001,0x000001,0.55,true)j(-422,"<a href='event:8teams'><p align='center'><font size='16' color='#E6E6E6'>8 Teams</font></p></a>",o,340,160,100,0,0x000001,0x000001,0.55,true)end;replayGame=function()t.winner=nil;for D=1,t.mode do u[D].points=0 end;t.sessionTime=0;t.pause={paused=false,time=0,reason=""}end;newMap=function(E)local F=f()if not pause then nextMap=t.chosenMapList[e(#t.chosenMapList)]if#t.mapQueue>0 then if E and E.code then return end;nextMap=t.mapQueue[1]i(t.mapQueue,1)end end;if E then if E.code then nextMap=E.code end;print("\n<VI>[NewMap] <N>-> <VI>Forced Switch <N>(!"..E.command..") by <BL>"..E.player.."\n<N>Map found in <VP>"..f()-F.."</VP> ms -> <PS>@"..nextMap)else print("\n<VI>[NewMap] <N>-> <VI>Normal Switch\n<N>Map found in <VP>"..f()-F.."</VP> ms -> <PS>@"..nextMap)end;tfm.exec.newGame(nextMap)end;createTeams=function()for G in next,tfm.get.room.playerList do if not t.playerData[G].inGame then u[t.teamIndex].players[#u[t.teamIndex].players+1]=G;t.playerData[G].team=t.teamIndex;t.teamIndex=t.teamIndex==t.mode and 1 or t.teamIndex+1;t.playerData[G].inGame=true end end end;teamDisplay=function(H)if H then for D=1,t.mode do if#u[D].players>=1 then n(D,"<p align='center'><font size='14' color='#E6E6E6'><u>Team "..D.."</u></font>\n<font color='#E6E6E6'>━━━━━━━━━━━━━━━━━━</font>\n<font color='#"..u[D].color.."'>"..g(u[D].players,"\n").."</font></p>",nil)else n(D,"<p align='center'><font size='14' color='#E6E6E6'><u>Team "..D.."</u></font>\n<font color='#E6E6E6'>━━━━━━━━━━━━━━━━━━</font>\n<font color='#E6E6E6'>No players :(</font></p>",nil)end end else for D=1,t.mode do m(D)end end end;setNameColors=function()for D=1,t.mode do for z,A in next,u[D].players do tfm.exec.setNameColor(A,"0x"..u[D].color)end end end;modesDisplay=function(H)if H then local I,J,K=-1110,1,1;for mode in next,s do I=I-1;local L=k(mode)j(I,"<a href='event:"..mode.."'><p align='center'><font size='16' color='#E6E6E6'>"..L.."</font></p></a>",o,110+120*J,240-40*K,100,0,0x000001,0x000001,0.55,true)K=J<3 and K+0 or K+1;J=J<3 and J+1 or 1 end else local M=0;for p in next,s do M=M+1 end;for D=-1111,-1111-M,-1 do m(D)end end end;settingsDisplay=function(H)if H then local I,J,K=-2222,1,1;for D=-1111,-1122,-1 do m(D)end;for z,A in next,t.settings do local y=A and"<VP>ON</VP>"or"<R>OFF</R>"j(I,"<a href='event:settings_"..z.."'><p align='center'><font size='16' color='#E6E6E6'>"..z..": "..y.."</font></p></a>",o,60+170*J,200-40*K,150,0,0x000001,0x000001,0.55,true)I=I-1;J=K<3 and J+0 or J+1;K=K<3 and K+1 or 1 end else local N=0;for p in next,t.settings do N=N+1 end;for D=-2222,-2222-N,-1 do m(D)end end end;scoreDisplay=function()local B="<font size='16'>"local J=370;if t.mode==4 then J=330 elseif t.mode==8 then J=280 end;for D=1,t.mode do if D==t.mode then B=B.."<font color='#"..u[D].color.."'><b>"..u[D].points.."</b> <N>/</N> <VI><b>"..t.toWin.."</b></VI></font>"else B=B.."<font color='#"..u[D].color.."'><b>"..u[D].points.."</b> <N>x</N> </font>"end end;for z,A in next,t.playerData do if A.ui.scoreToggled then j(-912841,B,z,J,25,0,0,0x000001,0x000001,0.1,true)end end end;setNameColors=function()for D=1,t.mode do for D=1,#u[D].players do tfm.exec.setNameColor(u[D].players[D],"0x"..u[D].color)end end end;secondsToClock=function(J)local O=tonumber(J)local P=d(O/60)local Q=O%60;if Q<10 then Q="0"..tostring(Q)end;return P..":"..Q end;putToSmallestTeam=function(G)local P=1;for D=2,t.mode do if#u[D].players<#u[P].players then P=D end end;t.playerData[G].team=P;u[P].players[#u[P].players+1]=G;t.playerData[G].inGame=true end;helperDisplay=function(H,G)if H then j(-478172,"<font size='16' color='#E6E6E6'><a href='event:h_skip'>S</a></font>",G,-46,5,0,0,0x000001,0x000001,0.55,true)j(-478173,"<font size='16' color='#E6E6E6'><a href='event:h_repeat'>R</a></font>",G,-21,5,0,0,0x000001,0x000001,0.55,true)else for D=-478172,-478173,-1 do m(D,G)end end end;pauseDisplay=function(H,R)if H then j(-77761247,"",nil,-12000,-12000,32000,32000,0x545557,0x000000,0.4,true)j(-77761248,"<p align='center'><font face='Verdana' color='#eff1f2'><font size='48'>The game is paused</font>\n<font size='16' face='Verdana' color='#eff1f2'>____________________________________________________________</font></p>",nil,100,100,0,0,0,0,1,true)j(-77761249,"<p align='center'><font face='Verdana' color='#eff1f2' size='24'>"..R.."</font></p>",nil,100,190,600,200,0,0,1,true)else for D=-77761247,-77761249,-1 do m(D)end end end;local S={}S.mod={permissions={'admin'},event=function(T,U)if not U[2]then return end;if U[2]=='add'then if U[3]and tfm.get.room.playerList[U[3]]and not l(r.mod,U[3])then r.mod[#r.mod+1]=U[3]print("\n<VI>[Mod] <BL>"..U[3].." <N>has been added to mods")helperDisplay(true,U[3])end elseif U[2]=='remove'then if U[3]and l(r.mod,U[3])then i(r.mod,h(r.mod,U[3]))print("\n<VI>[Mod] <BL>"..U[3].." <N>has been removed from mods")helperDisplay(false,U[3])end end end}S.team={permissions={'admin','mod'},event=function(T,U)if not U[3]or not U[2]then return end;local V=tonumber(U[2])if U[3]and V and u[V]and V<=t.mode and V>=1 then for D=1,#u do for W=3,#U do local G=U[W]if l(u[D].players,G)then local X=h(u[D].players,G)i(u[D].players,X)t.playerData[G].inGame=false end end end;for D=3,#U do for G in next,tfm.get.room.playerList do if U[D]==G then u[V].players[#u[V].players+1]=U[D]t.playerData[G].inGame=true end end end elseif U[2]and V and u[V]and#u[V].players>0 then for D=1,#u[V].players do t.playerData[u[V].players[1]]=false;i(u[V].players,1)end end;t.teamIndex=V==8 and 1 or V+1;teamDisplay(true)end}S.reset={permissions={'admin','mod'},event=function()resetGame()end}S.replay={permissions={'admin','mod'},event=function()replayGame()end}S.queue={permissions={'admin','mod'},event=function(T,U)if U[2]then local C=formatMap(U[2])if C then t.mapQueue[#t.mapQueue+1]=C;print("Map "..C.." was added")else print('Error formatting map code')end end end}S.skip={permissions={'admin','mod'},event=function(T)newMap({forced=true,player=T.name,command="skip"})end}S.rep={permissions={'admin','mod'},event=function(T)newMap({forced=true,player=T.name,code=t.currentMap,command="rep"})end}S.to={permissions={'admin','mod'},event=function(T,U)if not U[2]or not tonumber(U[2])then return end;t.toWin=tonumber(U[2])scoreDisplay()end}S.pset={permissions={'admin','mod'},event=function(T,U)if not U[2]or not U[3]then return end;local Y=tonumber(U[2])local Z=tonumber(U[3])if not Y or not Z then return end;if Y>=1 and Y<=t.mode then u[Y].points=Z end;scoreDisplay()end}S.pause={permissions={'admin','mod'},event=function(T,U)t.pause.paused=not t.pause.paused;if t.pause.paused then t.gameRunning=false;t.pause.paused=true;t.pause.reason=U[2]and g(U,' ',2)or"We'll be right back"pauseDisplay(true,t.pause.reason)else t.gameRunning=true;t.pause.paused=false;tfm.exec.setGameTime(c(t.time+t.pause.time/2))pauseDisplay(false)t.pause.time=0 end end}S.settings={permissions={'admin'},event=function(T,U)T.ui.settings=not T.ui.settings;settingsDisplay(T.ui.settings)end}S.tsc={event=function(T,U)T.ui.scoreToggled=not T.ui.scoreToggled;scoreDisplay()end}S.cheese={permissions={'admin','mod'},event=function(T)local _;if tfm.get.room.playerList[T.name].hasCheese then _=tfm.exec.removeCheese else _=tfm.exec.giveCheese end;_(T.name)end}S.win={permissions={'admin','mod'},event=function(T,U)local a0=U[2]and U[2]or T.name;tfm.exec.giveCheese(a0)tfm.exec.playerVictory(a0)end}eventNewPlayer=function(G)t.mice.total=t.mice.total+1;if not t.playerData[G]then t.playerData[G]={name=G,inGame=false,points=0,team=0,attr={hasTfm=false,hasConj=false,banned=false},ui={scoreToggled=true,settings=false},images={}}end;if t.settings.autoJoin then if t.gameRunning and t.playerData[G].team==0 then putToSmallestTeam(G)end;scoreDisplay()end;if t.pause.paused then pauseDisplay(true,t.pause.reason)end end;eventPlayerLeft=function(G)t.mice.total=t.mice.total-1;t.mice.alive=t.mice.alive-1 end;eventPlayerRespawn=function(G)t.mice.alive=t.mice.alive+1 end;eventPlayerDied=function(G)t.mice.alive=t.mice.alive-1;if t.mice.alive<=0 then newMap()end;if t.settings.respawn then tfm.exec.respawnPlayer(G)end end;eventPlayerWon=function(G)local a1=t.playerData[G]t.mice.alive=t.mice.alive-1;if not t.isFirst and not t.pause.paused and t.gameRunning then tfm.exec.setPlayerScore(G,1,true)t.isFirst=true;a1.points=a1.points+1;u[a1.team].points=u[a1.team].points+1;t.time=4;if u[a1.team].points>=t.toWin then t.winner=a1.team;t.gameRunning=false;tfm.exec.newGame(v)helperDisplay(false,nil)local a2;local a3=-1;for z,A in next,u[t.winner].players do if a3<t.playerData[A].points then a3=t.playerData[A].points;a2=A end end;for z,A in next,t.playerData do local Y=A.team and A.team or"Did not participate"local a4=u[A.team].color and u[A.team].color or"eff1f2"j(9,"<p align='center'><font size='20' face='Consolas'><font color='#eff1f2'>Team <font color='#"..u[t.winner].color.."'>"..t.winner.."</font> won\n<font size='10'><N>Session time: "..secondsToClock(c(t.sessionTime/2)).."</N></font>\n\n<font size='16'><p align='left'><O>MVP</O>: "..a2 .." | <O>"..a3 .."</O> points\n<VP>Last point</VP>: "..G.."\n\n\n\nYour points: <T>"..A.points.."</T> (Team <font color='#"..a4 .."'>"..Y.."</font>)</p></font></font></font>",z,230,80,400,200,0x000000,0x000000,0.55,true)end end;scoreDisplay()if t.settings.turboMode then newMap()else tfm.exec.setGameTime(3)end end end;eventChatCommand=function(G,a5)local U={}local a6=0;for a7 in a5:gmatch("[^%s]+")do a6=a6+1;U[a6]=a7 end;if S[U[1]]then local a8=false;if not S[U[1]].permissions then a8=true else for p,a9 in next,S[U[1]].permissions do if l(r[a9],G)then a8=true;break end end end;if a8 then S[U[1]].event(t.playerData[G],U)else print("\n<BL>["..G.."]</BL> <R>Insufficient permissions for <N>!"..U[1].."</N> command</R>")end end end;eventNewGame=function()t.time=120;t.isFirst=false;setNameColors()if not tfm.get.room.xmlMapInfo then error("<VI>[eventNewGame] <N>-> Could not find current map code, switching to hub")t.currentMap=v else t.currentMap=tfm.get.room.xmlMapInfo.mapCode end;if h(t.chosenMapList,t.currentMap)then i(t.chosenMapList,h(t.chosenMapList,t.currentMap))t.mapsToAdd[#t.mapsToAdd+1]={code=t.currentMap,round=0}print("\n<VI>[NoRepeat] <N>-> <VI>Map Removed <N>{\n\t<PS>@"..t.currentMap.." <N>was removed from the maplist\n}")end;local aa={}for z,A in next,t.mapsToAdd do A.round=A.round+1;if A.round>=t.addAfter then aa[#aa+1]=A end end;for z,A in next,aa do i(t.mapsToAdd,z)t.chosenMapList[#t.chosenMapList+1]=A.code;print("\n<VI>[NoRepeat] <N>-> <VI>Map Added <N>{\n\t<PS>@"..t.currentMap.." <N>was added to the maplist\n}")end;t.mice.alive=0;for z,A in next,tfm.get.room.playerList do if not A.isDead then t.mice.alive=t.mice.alive+1 end end end;eventTextAreaCallback=function(ab,G,ac)if ac:sub(2)=="teams"then t.mode=tonumber(ac:sub(1,1))local mode=t.mode;local ad=mode==8 and{202,139}or{202,278}local ae={[2]={{5,30},{592,30}},[4]={{-250,30},{5,30},{592,30},{850,30}},[8]={{-250,30},{5,30},{592,30},{850,30},{-250,232},{5,232},{592,232},{850,232}}}for D=1,mode do local J=ae[mode][D][1]local K=ae[mode][D][2]j(D,"",nil,J,K,ad[1],ad[2],0x000001,"0x"..u[D].color,0.55,true)end;j(-43,"<a href='event:fill'><p align='center'><font size='16' color='#E6E6E6'>Fill</font></p></a>",o,350,320,100,0,0x000001,0x000001,0.55,true)j(-45,"<a href='event:map'><p align='center'><font size='16' color='#E6E6E6'>Mode</font></p></a>",o,350,240,100,0,0x000001,0x000001,0.55,true)j(-46,"<a href='event:clear'><p align='center'><font size='16' color='#E6E6E6'>Clear</font></p></a>",o,350,360,100,0,0x000001,0x000001,0.55,true)j(-47,"<a href='event:settings_on'><p align='center'><font size='16' color='#E6E6E6'>Settings</font></p></a>",o,230,360,100,0,0x000001,0x000001,0.55,true)j(-1123,"<p align='center'><font size='16' color='#E6E6E6'>Current mode: None</font></p>",nil,230,40,340,0,0x000001,0x000001,0.55,true)m(-420)m(-421)m(-422)teamDisplay(true)elseif ac=="fill"then createTeams()teamDisplay(true)elseif ac=="clear"then t.teamIndex=1;for D=1,t.mode do for J=1,#u[D].players do t.playerData[u[D].players[1]].inGame=false;t.playerData[u[D].players[1]].team=0;i(u[D].players,1)end end;teamDisplay(true)elseif ac=="map"then j(-44,"<a href='event:play'><p align='center'><font size='16' color='#E6E6E6'>Play</font></p></a>",o,350,280,100,0,0x000001,0x000001,0.55,true)n(-45,"<a href='event:closemap'><p align='center'><font size='16' color='#E6E6E6'>Mode</font></p></a>",o)n(-47,"<a href='event:settings_on'><p align='center'><font size='16' color='#E6E6E6'>Settings</font></p></a>",o)settingsDisplay(false)modesDisplay(true)elseif ac=="closemap"then modesDisplay(false)m(-1123)n(-45,"<a href='event:map'><p align='center'><font size='16' color='#E6E6E6'>Mode</font></p></a>",o)elseif s[ac]and#s[ac]>0 then t.chosenMapList=s[ac]n(-1123,"<p align='center'><font size='16' color='#E6E6E6'>Current mode: "..k(ac).."</font></p>",nil)elseif ac:sub(1,8)=="settings"then if ac:sub(9)=="_on"then settingsDisplay(true)n(-45,"<a href='event:map'><p align='center'><font size='16' color='#E6E6E6'>Mode</font></p></a>",o)n(-47,"<a href='event:settings_off'><p align='center'><font size='16' color='#E6E6E6'>Settings</font></p></a>",o)elseif ac:sub(9)=="_off"then settingsDisplay(false)n(-47,"<a href='event:settings_on'><p align='center'><font size='16' color='#E6E6E6'>Settings</font></p></a>",o)else local af=ac:sub(10)t.settings[af]=not t.settings[af]if af=="autoJoin"and t.settings.autoJoin then for z,A in next,t.playerData do if A.team==0 then putToSmallestTeam(z)end end end;teamDisplay(true)settingsDisplay(true)end elseif ac=="play"then t.gameRunning=true;for D=-43,-47,-1 do m(D)end;m(-1123)teamDisplay(false)modesDisplay(false)settingsDisplay(false)scoreDisplay()setNameColors()newMap()helperDisplay(true,G)elseif ac=="h_skip"then newMap({forced=true,player=G,command="skip"})elseif ac=="h_repeat"then newMap({forced=true,player=G,code=t.currentMap,command="repeat"})end end;eventLoop=function(ag,ah)if not t.pause.paused and t.gameRunning then t.sessionTime=t.sessionTime+1;t.time=t.time-0.5;if ah<500 then newMap()end else t.pause.time=t.pause.time+0.5 end end;loadRoom=function()r.admin[#r.admin+1]=o;for q,A in next,tfm.get.room.playerList do eventNewPlayer(q)t.mice.total=t.mice.total+1;if not A.isDead then t.mice.alive=t.mice.alive+1 end end end;loadRoom()j(-420,"<a href='event:2teams'><p align='center'><font size='16' color='#E6E6E6'>2 Teams</font></p></a>",o,340,240,100,0,0x000001,0x000001,0.55,true)j(-421,"<a href='event:4teams'><p align='center'><font size='16' color='#E6E6E6'>4 Teams</font></p></a>",o,340,200,100,0,0x000001,0x000001,0.55,true)j(-422,"<a href='event:8teams'><p align='center'><font size='16' color='#E6E6E6'>8 Teams</font></p></a>",o,340,160,100,0,0x000001,0x000001,0.55,true)